<!-- firebird-ng/src/app/components/nav-config/nav-config.component.html -->

<mat-toolbar class="mat-elevation-z4 top-toolbar">
  <!-- Logo -->
  <button mat-icon-button [routerLink]="['/']" class="logo-button" aria-label="App Logo">
    <img ngSrc="assets/firebird/firebird-simplified-circle.png" width="32" height="32" alt="App Logo" />
  </button>

  <!-- Always visible nav items on desktop -->
  <div class="nav-items visible-nav hide-mobile">
    <ng-container *ngFor="let item of navItems">
      <button
        mat-button
        *ngIf="item.alwaysVisible"
        (click)="onNavItemClick(item)"
        [attr.aria-label]="item.label"
      >
        <mat-icon *ngIf="item.icon">{{ item.icon }}</mat-icon>
        {{ item.label }}
      </button>
    </ng-container>
  </div>

  <!-- Middle section for page-specific controls -->
  <div class="middle-section">
    <ng-container *ngIf="middleTemplate">
      <ng-container *ngTemplateOutlet="middleTemplate"></ng-container>
    </ng-container>
  </div>

  <!-- Spacer to push theme toggle to the right -->
  <span class="flex-spacer"></span>

  <!-- Theme toggle button (always visible on desktop) -->
  <app-theme-switcher class="theme-toggle hide-mobile"></app-theme-switcher>

  <!-- Hamburger menu button (only visible on mobile) -->
  <button
    mat-icon-button
    class="hamburger-btn hide-desktop"
    (click)="toggleNavConfig()"
    aria-label="Toggle navigation menu"
  >
    <mat-icon>{{ navOpen ? 'close' : 'menu' }}</mat-icon>
  </button>
</mat-toolbar>

<!-- Mobile menu overlay -->
<div class="mobile-menu" [class.open]="navOpen">
  <ng-container *ngFor="let item of navItems">
    <button
      mat-button
      (click)="onNavItemClick(item)"
      [attr.aria-label]="item.label"
    >
      <mat-icon *ngIf="item.icon">{{ item.icon }}</mat-icon>
      {{ item.label }}
    </button>
  </ng-container>
  <!-- Theme toggle inside mobile menu -->
  <app-theme-switcher class="theme-toggle-mobile"></app-theme-switcher>
</div>
